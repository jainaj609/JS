<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Closure</title>
    <style>
        .parent {
            width: 80vw;
            margin: auto;
        }

        h1 {
            margin: 1em auto;
            font-size: 3em;
        }

        h1,
        h3 {
            color: darkslateblue;
        }

        .parent div {
            width: inherit;
            height: max-content;
            background-color: rgba(71, 61, 139, 0.493);
            border: 1px solid darkslateblue;
        }

        pre {
            box-sizing: border-box;
            width: 100%;
            border-left: 5px solid darkslateblue;
            font-family: Georgia, 'Times New Roman', Times, serif;
            background-color: white;
            line-height: 2.5em;
        }

        .answer {
            color: darkslateblue;
            font-weight: 100;
        }
    </style>
</head>

<body>
    <div class="parent">
        <h1>Closure</h1>
        <h3>Question 1: Print the Output.</h3>
        <pre>
            function counter(){
                var counter = 0;
                function IncreaseCounter() {
                    return counter += 1;
                };
                return IncreaseCounter;
            }
            var counter = counter();
            alert(counter());
            alert(counter());
            alert(counter());
            alert(counter());
        </pre>
        <div>
            <h3>Ans.</h3>
            <pre>
                It'll alert 4 times :
                1
                2
                3
                4        
            </pre>
        </div>

        <h3>Question 2: Print the Output.</h3>
        <pre>
            let count = 0;
            (function () {
              if (count === 0) {
                let count = 1;
                console.log(count); // What is logged?
              }
              console.log(count); // What is logged?
            })();
        </pre>
        <div>
            <h3>Ans.</h3>
            <pre>
                First time declared count variable is in global scope. here, value of count is 0.

                And second time in the IIFE function, global scoped variable is accesible in 
                the if condition which is enclosed with parentheses, after that it's started 
                with culry braces which is indicating the block scope of if.
                
                We know that in the block scope let variable create new variable which is 
                accesible only inside the curly braces of if. here, value of count is 1.
                
                Answer is:
                1
                0
            </pre>
        </div>

        <h3>Question 3: Print the Output.</h3>
        <pre>
            for (var i = 0; i < 3; i++) {
                setTimeout(function log() {
                  console.log(i); // What is logged?
                }, 1000);
            }
        </pre>
        <div>
            <h3>Ans.</h3>
            <pre>
                3
                3
                3
            </pre>
        </div>

        <h3>Question 4: Write a code to calculate area of a rectangle using inner function. In this case outer function
            should accept parameter length and inner function should accept parameter breadth.</h3>
        <div>
            <h3>Ans.</h3>
            <pre>
                function outer(l){
                    function inner(b){
                      return l*b;
                    }
                    return inner;
                }
                console.log(outer(5)(9));
            </pre>
        </div>

        <h3>Question 5: Take a variable in outer function and create an inner function to increase the counter every time it is called.</h3>

        <div>
            <h3>Ans.</h3>
            <pre>
                function outer(){
                    let counter=0;
                    function inner(){
                      return ++counter;
                    }
                    return inner;
                }
                console.log(outer()());
            </pre>
        </div>

        <h3>Question 6: Print the Output.</h3>
        <pre>
            var a = 12;
            (function () {
              alert(a);
            })();
        </pre>
        <div>
            <h3>Ans.</h3>
            <pre>
                It'll alert 12 one time
            </pre>
        </div>

        <h3>Question 7: Print the Output.</h3>
        <pre>
            var a = 10;
            var x = (function () {
              var a = 12;
              return function () {
                alert(a);
              };
            })();
            x();
        </pre>
        <div>
            <h3>Ans.</h3>
            <pre>
                Here, In the 2nd line statement, it's the declaration of closure function,
                And we are declared function IIFE(Immediate Invoke Function Expression),
                first time this IIFE function will called then returned fucntion will store in the 
                x variable and after that it will return alert 12 which would have been declared
                in outside the returned function.
                
                Answer:12
            </pre>
        </div>


        <h3>Question 8: Print the Output.</h3>
        <pre>
            var globalVar = "xyz";
            (function outerFunc(outerArg) {
                var outerVar = 'a';
                (function innerFunc(innerArg) {
                var innerVar = 'b';
                console.log(
                    "outerArg = " + outerArg + "\n" +
                    "innerArg = " + innerArg + "\n" +
                    "outerVar = " + outerVar + "\n" +
                    "innerVar = " + innerVar + "\n" +
                    "globalVar = " + globalVar);
                
                })(456);
            })(123);
        </pre>
        <div>
            <h3>Ans.</h3>
            <pre>
                outerArg = 123
                innerArg = 456
                outerVar = a
                innerVar = b
                globalVar = xyz
            </pre>
        </div>
    </div>
</body>

</html>